"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[553],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),p=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=p(n),h=a,m=u["".concat(s,".").concat(h)]||u[h]||c[h]||r;return n?o.createElement(m,i(i({ref:t},d),{},{components:n})):o.createElement(m,i({ref:t},d))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=u;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<r;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},4443:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var o=n(7462),a=(n(7294),n(3905));const r={},i="Self-Hosting",l={unversionedId:"guides/self_hosting",id:"guides/self_hosting",title:"Self-Hosting",description:"If you want, you can self-host your own instance of Modrunner on a private VPS, just for you!",source:"@site/docs/guides/self_hosting.md",sourceDirName:"guides",slug:"/guides/self_hosting",permalink:"/guides/self_hosting",draft:!1,tags:[],version:"current",lastUpdatedAt:1689142055,formattedLastUpdatedAt:"Jul 12, 2023",frontMatter:{},sidebar:"docs",previous:{title:"Configuring Permissions",permalink:"/guides/configuring_permissions"},next:{title:"Search",permalink:"/commands/search"}},s={},p=[{value:"Creating a Discord application",id:"creating-a-discord-application",level:2},{value:"Installing Node.js and npm",id:"installing-nodejs-and-npm",level:2},{value:"Installing Modrunner",id:"installing-modrunner",level:2},{value:"Using git clone",id:"using-git-clone",level:3},{value:"Using FTP upload",id:"using-ftp-upload",level:3},{value:"Prepping Modrunner for use",id:"prepping-modrunner-for-use",level:2},{value:"Installing required packages",id:"installing-required-packages",level:3},{value:"Configuring Doppler secrets",id:"configuring-doppler-secrets",level:3},{value:"Adding the application ID and Discord token",id:"adding-the-application-id-and-discord-token",level:4},{value:"Set the logging level",id:"set-the-logging-level",level:4},{value:"Add a CurseForge API key",id:"add-a-curseforge-api-key",level:4},{value:"Installing Doppler",id:"installing-doppler",level:3},{value:"Starting the Bot",id:"starting-the-bot",level:2},{value:"Managing and configuring the bot",id:"managing-and-configuring-the-bot",level:2},{value:"Configure logging level",id:"configure-logging-level",level:3},{value:"Changing a server&#39;s maximum amount of tracked projects",id:"changing-a-servers-maximum-amount-of-tracked-projects",level:3},{value:"Swapping out Doppler for Dotenv",id:"swapping-out-doppler-for-dotenv",level:2}],d={toc:p};function c(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,o.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"self-hosting"},"Self-Hosting"),(0,a.kt)("p",null,"If you want, you can self-host your own instance of Modrunner on a private VPS, just for you!"),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"While this guide is written for those unfamiliar with hosting, Node or Linux, it is still recommended that you have a\nsomewhat decent idea of these tools do before proceeding.")),(0,a.kt)("h2",{id:"creating-a-discord-application"},"Creating a Discord application"),(0,a.kt)("p",null,"The first step is to create the application on Discord. Head to the ",(0,a.kt)("a",{parentName:"p",href:"https://discord.com/developers"},"Discord Developer Portal"),".\nYou'll land on the Applications page. Here's what mine looks like:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"screenshot of the applications page on the discord dev portal",src:n(4545).Z,width:"1920",height:"1080"})),(0,a.kt)("p",null,"If you've never created a Discord app before, this page will be empty."),(0,a.kt)("p",null,'Click on the "New Application" button on the top left. Give your application a name, click the checkbox and click "Create".'),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Modrunner is licensed under the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/smcmo/modrunner-bot/blob/main/LICENSE"},"Apache 2.0"),' license. This gives\nyou permissions to modify, distribute and use Modrunner\'s source code for commercial purposes. However, it does NOT allow\nusage of the Modrunner branding and name in your derived works. Please do not use the name "Modrunner" or use any official\nbranding, icons or art to represent your own work.')),(0,a.kt)("p",null,"Ta-da! Your Discord app is created. Keep this tab handy, we'll be coming back to it later."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"screenshot of the homepage of the discord app we just created",src:n(1018).Z,width:"1920",height:"1080"})),(0,a.kt)("h2",{id:"installing-nodejs-and-npm"},"Installing Node.js and npm"),(0,a.kt)("p",null,"Next step is prep your virtual private server. If you don't already have one, you can purchase\none from a variety of third-party vendors. I recommend ",(0,a.kt)("a",{parentName:"p",href:"https://www.bisecthosting.com/beansquared"},"Bisect Hosting"),"\n",(0,a.kt)("em",{parentName:"p"},"(affiliate link)")," as you get the most bang for your buck compared to most other providers, but a VPS from anywhere will do."),(0,a.kt)("p",null,"Connect to your server using SSH. The simplest method is to use the ",(0,a.kt)("inlineCode",{parentName:"p"},"ssh")," command in your computer's terminal and\nlogin using the username, password and IP address for your server. You can also use an SSH client like ",(0,a.kt)("a",{parentName:"p",href:"https://putty.org/"},"PuTTY"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"ssh USERNAME@IP_ADRESS\nUSERNAME@IP_ADDRESS's password: PASSWORD\n")),(0,a.kt)("p",null,"Modrunner runs on the Node.js JavaScript runtime and will need it installed to function at all. To install Node, first\ninstall ",(0,a.kt)("a",{parentName:"p",href:"https://nodejs.org/en/download/package-manager/#nvm"},"nvm")," using either one of the following commands in\nyour terminal:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.3/install.sh | bash\n# or\nwget -qO- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.3/install.sh | bash\n")),(0,a.kt)("p",null,"Verify nvm installed correctly using ",(0,a.kt)("inlineCode",{parentName:"p"},"command -v nvm"),"."),(0,a.kt)("p",null,"Then install Node.js and npm using this command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"nvm install node 16.14.2\n")),(0,a.kt)("p",null,"Then verify that Node and npm installed correctly using ",(0,a.kt)("inlineCode",{parentName:"p"},"node -v")," and ",(0,a.kt)("inlineCode",{parentName:"p"},"npm -v")),(0,a.kt)("h2",{id:"installing-modrunner"},"Installing Modrunner"),(0,a.kt)("h3",{id:"using-git-clone"},"Using git clone"),(0,a.kt)("p",null,"Using the terminal, move to the directory you want to clone Modrunner's code into, then run the command "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/smcmo/modrunner-bot.git\n")),(0,a.kt)("p",null,"This will download the latest changes from GitHub and install them on the VPS."),(0,a.kt)("h3",{id:"using-ftp-upload"},"Using FTP upload"),(0,a.kt)("p",null,"You can also upload the files to the server using File Transfer Protocol. For this you will need an FTP client like\n",(0,a.kt)("a",{parentName:"p",href:"https://filezilla-project.org/download.php?show_all=1"},"FileZilla")," (examples will be shown using FileZilla)."),(0,a.kt)("p",null,"Head to ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/smcmo/modrunner-bot"},"Modrunner's GitHub page"),' and click "Code", then "Download ZIP". Unzip\nthe file on your computer once the download is complete.'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"screenshot of the download .zip option on github",src:n(3695).Z,width:"919",height:"405"})),(0,a.kt)("p",null,'Open up FileZilla and enter the IP address, username, password and port into the fields at the top and click "Quickconnect".'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"screenshot of the left and right file panels in filezilla",src:n(4745).Z,width:"1920",height:"679"})),(0,a.kt)("p",null,"The panel on the left will show your computer's files, and the right panel will show the files present on your VPS. Yours\nwill likely not look the exact same as mine, but the process will still be the same. In the left panel, navigate to where\nyou extracted the ZIP to (in my case, the ",(0,a.kt)("inlineCode",{parentName:"p"},"Downloads")," folder). On the right panel, navigate to where you want to install\nModrunner on your VPS, which in my case is the ",(0,a.kt)("inlineCode",{parentName:"p"},"root")," folder. Drag the folder extracted from the ZIP from the left panel\nover to the right panel and wait until FileZilla finishes the transfer."),(0,a.kt)("h2",{id:"prepping-modrunner-for-use"},"Prepping Modrunner for use"),(0,a.kt)("p",null,"We have the source code downloaded, but will still need to perform a few more steps for Modrunner to function properly."),(0,a.kt)("h3",{id:"installing-required-packages"},"Installing required packages"),(0,a.kt)("p",null,"This is as easy as running a command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"npm install\n")),(0,a.kt)("h3",{id:"configuring-doppler-secrets"},"Configuring Doppler secrets"),(0,a.kt)("p",null,"Modrunner uses ",(0,a.kt)("a",{parentName:"p",href:"https://www.doppler.com/"},"Doppler")," for secret management. Luckily, all the features we need are completely\nfree, and it's easy to create an account and set up a project. However, if you'd prefer a simpler approach, head to the\nsection on ",(0,a.kt)("a",{parentName:"p",href:"#swapping-out-doppler-for-dotenv"},"swapping out Doppler for Dotenv"),"."),(0,a.kt)("p",null,"Head to ",(0,a.kt)("a",{parentName:"p",href:"https://dashboard.doppler.com/login"},"Doppler")," and sign up using your method of choice. You'll be brought to the\nworkspace homepage (yours most likely will have no projects listed):"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"screenshot of the Doppler workspace homepage",src:n(3947).Z,width:"1920",height:"1080"})),(0,a.kt)("p",null,"Click the plus next to Projects. Give it a name and description, and click \"Create\". You'll be brought to the project's\nenvironments page:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"screenshot of Doppler&#39;s project environments page",src:n(2566).Z,width:"1920",height:"1080"})),(0,a.kt)("p",null,"Click the ",(0,a.kt)("inlineCode",{parentName:"p"},"prd"),' box under Production. Click "Add First Secret". Now we can start adding all the secrets that Modrunner\nneeds to function. '),(0,a.kt)("h4",{id:"adding-the-application-id-and-discord-token"},"Adding the application ID and Discord token"),(0,a.kt)("p",null,'Head back to the Discord Developer Portal and navigate to the "Bot" tab, then click "Add Bot". '),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"screenshot of the icon, username and secret token field in the discor dev portal",src:n(2788).Z,width:"1393",height:"320"})),(0,a.kt)("p",null,'Under the username field, you\'ll see the "Reset Token" button. Click it, and Discord will generate a security token for\nyour bot to use to access the Discord API. Copy the token and head back to Doppler.'),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Make sure never to share this token publicly. Otherwise, others may be able to hijack your bot. Keep it secret, keep it safe!")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"screenshot of the doppler add secret fields",src:n(5250).Z,width:"1494",height:"277"})),(0,a.kt)("p",null,"You'll see a pair of fields, NAME and VALUE. In the name field, enter ",(0,a.kt)("inlineCode",{parentName:"p"},"DISCORD_TOKEN")," and paste the token you copied\ninto the value field next to it."),(0,a.kt)("p",null,'Now we need our Discord app\'s ID. Head back to the dev portal, navigate to the "General Information" tab and copy the\nApplication ID. Then head back to Doppler, click "Add a Secret", and enter ',(0,a.kt)("inlineCode",{parentName:"p"},"DISCORD_APPLICATION_ID")," for the name and\npaste the ID you copied into the value field."),(0,a.kt)("h4",{id:"set-the-logging-level"},"Set the logging level"),(0,a.kt)("p",null,"In Doppler, add a new secret. Set the name to ",(0,a.kt)("inlineCode",{parentName:"p"},"LOGGING_LEVEL")," and the value to ",(0,a.kt)("inlineCode",{parentName:"p"},"info"),"."),(0,a.kt)("h4",{id:"add-a-curseforge-api-key"},"Add a CurseForge API key"),(0,a.kt)("p",null,"In order for Modrunner to be able to access the CurseForge API, we will need an API key. Head to ",(0,a.kt)("a",{parentName:"p",href:"https://console.curseforge.com/"},"Eternal"),", CurseForge's\ndev console service and sign up for an account, if you don't have one already."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"screenshot of enternal, curseforge&#39;s dev console",src:n(9944).Z,width:"1920",height:"1080"})),(0,a.kt)("p",null,'Once you\'re in, navigate to the "API keys" tab and copy the key next to your username. Head back to Doppler, add a new\nsecret, name it ',(0,a.kt)("inlineCode",{parentName:"p"},"CF_API_KEY")," and paste in the key you copied for the value."),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Be sure to never share your API key publicly. Otherwise, others may use your key to make requests on your behalf, and you\ndon't want that!")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"This key's intended use case is primarily for content creators to upload project data to CurseForge programmatically, but\nwe're using it to retrieve information about projects on CurseForge, which is also okay."),(0,a.kt)("p",{parentName:"admonition"},"However, if you reuse this key for multiple projects you are likely to get rate limited by CurseForge. We recommend that\nyou submit an application to CurseForge for a dedicated project API key, so you can use your personal key for other things.")),(0,a.kt)("h3",{id:"installing-doppler"},"Installing Doppler"),(0,a.kt)("p",null,"Now we need to install Doppler on our VPS so our bot can pull the secrets from your Doppler project. Head to the\n",(0,a.kt)("a",{parentName:"p",href:"https://docs.doppler.com/docs/install-cli"},"installation docs")," and enter the commands for the operating system running\non your VPS into your terminal."),(0,a.kt)("p",null,"Once you've done that, verify doppler was installed correctly using ",(0,a.kt)("inlineCode",{parentName:"p"},"doppler --version"),"."),(0,a.kt)("p",null,'Now we need to create a service token on Doppler, so we can give our VPS permissions to read our secrets from Doppler.\nHead to Doppler and navigate to the "Access" tab. '),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"screenshot of the service tokens screen on Doppler",src:n(327).Z,width:"1125",height:"326"})),(0,a.kt)("p",null,'Under "Service Token", click "Generate". Give it a name, then click "Generate Service Token". Copy the token.'),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"Make sure never to share any service tokens publicly. Otherwise, others may be able to access your secrets in Doppler!")),(0,a.kt)("p",null,"Head back to the terminal. Enter the following commands:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"# Prevent configure command being leaked in bash history\nexport HISTIGNORE='doppler*'\n# Scope to location of application directory\necho 'SERVICE_TOKEN' | doppler configure set token --scope PROJECT_PATH\n")),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"SERVICE_TOKEN")," is the token you copied from Doppler, and ",(0,a.kt)("inlineCode",{parentName:"p"},"PROJECT_PATH")," is the relative path to where your project is\nlocated on your VPS. I have my bot's code stored under ",(0,a.kt)("inlineCode",{parentName:"p"},"/root/modrunner-bot"),", which is the path I would enter here."),(0,a.kt)("h2",{id:"starting-the-bot"},"Starting the Bot"),(0,a.kt)("p",null,"Now we're ready to roll! Start the bot by entering this command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"npm run start\n")),(0,a.kt)("p",null,"This command will do a few things:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Register the bot's slash commands globally across Discord. Note that it may take up to an hour for the bot's commands\nto show in Discord."),(0,a.kt)("li",{parentName:"ul"},"Creates the database for storing information about server settings and tracked projects"),(0,a.kt)("li",{parentName:"ul"},"Once those are done, starts the bot and enables it for use in Discord")),(0,a.kt)("h2",{id:"managing-and-configuring-the-bot"},"Managing and configuring the bot"),(0,a.kt)("p",null,"There are a few settings you can tweak and utilities you can use when managing your bot."),(0,a.kt)("h3",{id:"configure-logging-level"},"Configure logging level"),(0,a.kt)("p",null,'You can change the level at which the bot logs certain events. By default, it runs at "info" level, which generally\noutputs things like when the bot is invited to a server, a command is run, or some other common internal process runs.'),(0,a.kt)("p",null,"You can change the logging level by changing the value of the ",(0,a.kt)("inlineCode",{parentName:"p"},"LOGGING_LEVEL")," secret in Doppler. Available levels are:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"trace")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"debug")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"info")," (default)"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"warn")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"error")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"fatal")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"silent"))),(0,a.kt)("p",null,"Levels at the top of the list will log more verbose and greater amounts of information than lower levels."),(0,a.kt)("h3",{id:"changing-a-servers-maximum-amount-of-tracked-projects"},"Changing a server's maximum amount of tracked projects"),(0,a.kt)("p",null,"The bot will limit a server to 100 maximum tracked projects to limit spam and abuse. It is possible to change this amount\nusing an npm script. Start by running:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"npm run set-guild-max\n")),(0,a.kt)("p",null,"The console will then request for the ID of the server you want to modify. You can get this by enabling developer mode\nin Discord's settings, then right-clicking on the server's icon and choosing \"Copy ID\". Then the bot will ask for the\nnew amount of tracked projects."),(0,a.kt)("h2",{id:"swapping-out-doppler-for-dotenv"},"Swapping out Doppler for Dotenv"),(0,a.kt)("p",null,"Many still prefer the simplicity of a system like ",(0,a.kt)("a",{parentName:"p",href:"https://www.dotenv.org/"},"Dotenv")," for secret management. Instead of\nsaving secrets in Doppler, you can store them locally on your VPS in a ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file. Luckily, with a few small tweaks you\ncan run Modrunner using Dotenv."),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"It is recommended to have a basic-level knowledge of JavaScript/Node.js, git and local development environments before\ncontinuing with this section.")),(0,a.kt)("p",null,'To make Dotenv work with the bot, we will need to make some minor changes to the bot\'s code itself. Fork the modrunner-bot\nrepository on GitHub and open it up in a development environment of your choice. The easiest way would be to press "." on\nyour keyboard when the fork is open in your browser, so that VSCode opens the repo right in your browser.'),(0,a.kt)("p",null,"First we need to install the ",(0,a.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/dotenv"},"dotenv")," package. Run this command in a new terminal\nwindow:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"npm install dotenv --save\n")),(0,a.kt)("p",null,"Now create a ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file in the root directory. Let's add the required secrets to it:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-dotenv"},'CF_API_KEY="YOUR CURSEFORGE API KEY"\nDOPPLER_ENVIRONMENT="prd"\nDISCORD_APPLICATION_ID="YOUR BOT\'S APP ID"\nDISCORD_TOKEN="YOUR BOT\'S TOKEN"\nLOGGING_LEVEL="info"\n')),(0,a.kt)("admonition",{type:"danger"},(0,a.kt)("p",{parentName:"admonition"},"Make sure not to commit your ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file into source control, or your secrets will be exposed on GitHub for the world to see!")),(0,a.kt)("p",null,"Now we need to import our values into each JS file that requires them by adding the following to the top of the file:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"require('dotenv').config()\n")),(0,a.kt)("p",null,"Currently, these files will require secrets:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"index.js")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"logger.js")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"register-commands.js")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"curseforge.js"))),(0,a.kt)("p",null,"Once you've done that, we'll need to make some small changes to the startup scripts. Open up ",(0,a.kt)("inlineCode",{parentName:"p"},"package.json")," in the root\ndirectory and make the following changes:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Under ",(0,a.kt)("inlineCode",{parentName:"li"},"scripts"),", change the value of ",(0,a.kt)("inlineCode",{parentName:"li"},"start")," to ",(0,a.kt)("inlineCode",{parentName:"li"},"node .")),(0,a.kt)("li",{parentName:"ul"},"Under ",(0,a.kt)("inlineCode",{parentName:"li"},"scripts"),", change the value of ",(0,a.kt)("inlineCode",{parentName:"li"},"register-globally")," to ",(0,a.kt)("inlineCode",{parentName:"li"},"node scripts/register-commands.js --global"))),(0,a.kt)("p",null,"Then save your changes, push them to GitHub, and pull them onto your VPS."),(0,a.kt)("p",null,"The final step is to transfer your ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," file to your VPS. Install ",(0,a.kt)("a",{parentName:"p",href:"https://filezilla-project.org/download.php?show_all=1"},"FileZilla"),"\nif you haven't already, connect to your VPS, and transfer the ",(0,a.kt)("inlineCode",{parentName:"p"},".env")," over into the bot's root directory on the VPS. Restart\nthe bot, and you should be good to go!"))}c.isMDXComponent=!0},4545:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/applications_page-5551552d718f69eb81749a93b09bc0c8.png"},9944:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/cf_console-5f18fa7cb8d30b725fdda2bdb44880e2.png"},1018:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/discord_application_home-9819c378568789bb7cc97afd55910abc.png"},5250:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/doppler_add_secret-6826811602d0185152bd30f0177c6bc4.png"},2566:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/doppler_envs-7c36dff9e03ab2f1449f976128f76af2.png"},3947:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/doppler_homepage-b7b915370ab48b08ff0fcb730e724cf5.png"},327:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/doppler_service_tokens-112898f597ec6ef52532f16da858f4b6.png"},4745:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/filezilla_panels-d8d5898e96edfa23b08c5a3da41a7993.png"},3695:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/ftp_zip_download-e05d5b2fb354bb644647833eca4d24ae.png"},2788:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/secret_token_button-8249e8d3abeec25d5b9b2685d915d32c.png"}}]);